
@{
    ViewData["Title"] = "Blog";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section css {
    <link href="~/css/Blog/blog.min.css" rel="stylesheet" />
}

<div class="alert alert-info show" id="connectionstatus"></div>






<!-- END PAGE HEADER-->
<div class="blog-page blog-content-1">
    <div class="row blog-list">

        <script id="blog-card" type="text/template">
            <div class="col-lg-6" id="divPost">

                <div class="blog-post-lg bordered blog-container">
                    <div class="blog-img-thumb">
                        <a href="javascript:;">
                            <img src="{{blog-imagem}}" />
                        </a>
                    </div>
                    <div class="alert alert-info show" id="connectionstatus"></div>
                    <div class="blog-post-content">
                        <h2 class="blog-title blog-post-title">
                            <a href="javascript:;">{{PostId}} - {{Title}}</a>
                        </h2>
                        <p class="blog-post-desc">
                            {{ShortDescription}}
                        </p>
                    </div>

                    <div class="row">
                        <div class="col-lg-6">
                            <button onclick="pageEvents.loadBlogPost('{{Link}}');" class="btn btn-primary col-6 col-xs-offset-1">Visualizar</button>
                        </div>
                    </div>

                </div>
            </div>
        </script>
    </div>

    <div class="center">
        <button class="btn btn-danger" onclick="pageEvents.loadMoreBlogPosts();">
            ver mais
        </button>
        <br /><br />
    </div>
</div>
<!-- END CONTENT BODY -->

<div id="blog-item-container"></div>


    <script id="blog-item-not-found" type="text/template">
        <div class="modal fade" id="blog-item-modal" tabindex="-1" role="dialog" aria-labelledby="myModal-label">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title" id="myModal-label">Offiline</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    </div>
                    <div class="modal-body">
                        <h1>
                            Ups, artigo não está no Cache!
                        </h1>
                        <div>
                            Você quer que a gente continue tentando fazer download do artigo em plano de fundo e te avise quando estiver disponível?
                        </div>
                        <br />
                        <button class="btn btn-success download-start" onclick="pageEvents.setBackgroundFetch('{{Link}}');">Sim!</button>
                        <div id="status-download" style="display:none;">
                            <div class="progress">
                                <div class="progress-bar" role="progressbar" style="width:0%"></div>
                            </div>
                            <div class="text-success">
                                <p>pronto!</p>
                                <button class="btn btn-success" onclick="pageEvents.loadBlogPost('{{Link}}');">ler!</button>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-dismiss="modal">Fechar</button>
                    </div>
                </div>
            </div>
        </div>

</script>

<script id="blog-item-found" type="text/template">
    <div class="modal fade" id="blog-item-modal" tabindex="-1" role="dialog" aria-labelledby="myModal-label">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModal-label">{{Title}}</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body">

                    <div class="blog-img-thumb">
                        <img src="{{Image}}" alt="{{Title}}" class="col-lg-12" />
                    </div>

                    <hr />

                    <div id="{{Link}}">
                        <div class="form-group">
                            <label class="control-label" for="form-group-input">Post</label>
                        </div>
                        <hr />

                        {{Content}}
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Fechar</button>
                </div>
            </div>
        </div>
    </div>
</script>



